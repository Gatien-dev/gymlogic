@model Gymlogic.Models.Data.Client

@{
    ViewBag.Title = "Delete";
}
<div class="col-md-4 col-md-offset-2">
    <h4 class="box-title text-bold">Informations générales du client</h4>
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Nom)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Nom)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Prenom)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Prenom)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Telephone)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Telephone)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Adresse)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Adresse)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Email)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Email)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Sexe)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Sexe)
        </dd>

    </dl>

    @using (Html.BeginForm("Delete", "Clients", FormMethod.Post, new { id = "form" }))
    {
        @Html.AntiForgeryToken()

        <div class="form-actions no-color col-md-12 text-cente">
<textarea name="deleteMessage" id="deleteMessage" class="form-control" placeholder="Motif de la suprression" required="true"></textarea>
            @*<input type="submit" value="Supprimer" class="btn btn-danger" />*@

            @* |<a class="btn btn-default" href="@Url.Action("Index")"><span class="fa fa-stop-circle"> </span> Annuler</a>*@
        </div>
    }
</div>
<div class="col-md-6">
    <h4 class="box-title text-bold">Abonnements en cours</h4>
    @if (Model.Abonnements.Any())
    {
        <span class="text-danger">La suppression du client supprimera les abonnements suivants: </span>
        foreach (var abonnement in Model.Abonnements)
        {
            <p>Abonnement @(!abonnement.Suspendu ? "en cours" : "suspendu") a @abonnement.Forfait.Discipline.Name : @abonnement.NbJoursRestants jours restants sur @abonnement.NbJours</p>
        }
    }
    else
    {
        <small class="info"> <span class="text-danger">Aucun abonnement</span> enregistré au nom de ce client.</small>

    }
</div>
<div class="col-md-12 text-danger text-center">
    <h3>
        <span class="fa fa-warning"></span>
        La suppression est irréversible
    </h3>
</div>
<div class="col-md-12 text-center ">
    <button type="submit" form="form" class="btn btn-danger">
        <span class="fa fa-trash"></span>
        Supprimer
    </button>
    <a class="btn btn-primary" href="@Url.Action("Edit", new { id = Model.ID })"><span class="fa fa-edit"> </span> Modifier</a>
    <a class="btn btn-default" href="@Url.Action("Index")"><span class="fa fa-arrow-circle-left"> </span> Retour</a>
</div>
